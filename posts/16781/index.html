<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><link href="https://fastly.jsdelivr.net/npm/hexo-tag-common@0.1.0/css/index.css" rel="stylesheet"><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png"><link rel="icon" href="/img/fluid.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="AWEI"><meta name="keywords" content="AWEI,AWEI的技术小屋"><meta name="description" content="JavaWeb基本概念web 开发:  web, 网页的意思，我们能从网上拿到一些资源 静态 web： html，css  提供给所有人看的数据始终不会发生变化   动态 web： 几乎所有的网站 提供给所有人看的数据会发生变化，每个人在不同时间，不同地点看到的信息各不相同 技术栈：Servlet &#x2F; JSP ，ASP ，PHP    在 java 中，动态 web 资源开发的技术统称为：Java"><meta property="og:type" content="article"><meta property="og:title" content="JavaWeb 学习笔记"><meta property="og:url" content="https://www.inencoding.com/posts/16781/index.html"><meta property="og:site_name" content="In-Encoding"><meta property="og:description" content="JavaWeb基本概念web 开发:  web, 网页的意思，我们能从网上拿到一些资源 静态 web： html，css  提供给所有人看的数据始终不会发生变化   动态 web： 几乎所有的网站 提供给所有人看的数据会发生变化，每个人在不同时间，不同地点看到的信息各不相同 技术栈：Servlet &#x2F; JSP ，ASP ，PHP    在 java 中，动态 web 资源开发的技术统称为：Java"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.inencoding.com/img/%E6%96%87%E7%AB%A0/JavaWeb.jpg"><meta property="article:published_time" content="2021-05-17T06:48:24.000Z"><meta property="article:modified_time" content="2022-12-08T15:28:22.376Z"><meta property="article:author" content="AWEI"><meta property="article:tag" content="Web"><meta property="article:tag" content="Java"><meta property="article:tag" content="JSP"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://www.inencoding.com/img/%E6%96%87%E7%AB%A0/JavaWeb.jpg"><meta name="referrer" content="no-referrer-when-downgrade"><title>JavaWeb 学习笔记 - In-Encoding</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="/css/fluid-extention.css"><script id="fluid-configs">var dntVal,Fluid=window.Fluid||{},CONFIG=(Fluid.ctx=Object.assign({},Fluid.ctx),{hostname:"www.inencoding.com",root:"/",version:"1.9.2",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!1,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"https://cdn.jsdelivr.net/gh/AWeiIsCoding/AWeiIsCoding.github.io/local-search.xml"});CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><style>.spoiler{display:inline-flex}p.spoiler{display:flex}.spoiler a{pointer-events:none}.spoiler-blur,.spoiler-blur>*{transition:text-shadow .5s ease}.spoiler .spoiler-blur,.spoiler .spoiler-blur>*{color:transparent;background-color:rgba(0,0,0,0);text-shadow:0 0 10px grey;cursor:pointer}.spoiler .spoiler-blur:hover,.spoiler .spoiler-blur:hover>*{text-shadow:0 0 5px grey}.spoiler-box,.spoiler-box>*{transition:color .5s ease,background-color .5s ease}.spoiler .spoiler-box,.spoiler .spoiler-box>*{color:#000;background-color:#000;text-shadow:none}</style><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="In-Encoding" type="application/atom+xml"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>InEncoding</strong></a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/background.jpg) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="JavaWeb 学习笔记"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> AWEI</span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-05-17 14:48" pubdate>2021年5月17日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 48k 字</span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 401 分钟</span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar category-bar" style="margin-right:-1rem"><div class="category-list"><div class="category row nomargin-x"><a class="category-item list-group-item category-item-action col-10 col-md-11 col-xm-11" title="学习笔记" id="heading-078425eaf316a180b0989442e53f920b" role="tab" data-toggle="collapse" href="#collapse-078425eaf316a180b0989442e53f920b" aria-expanded="true">学习笔记 <span class="list-group-count">(22)</span><i class="iconfont icon-arrowright"></i></a><div class="category-collapse collapse show" id="collapse-078425eaf316a180b0989442e53f920b" role="tabpanel" aria-labelledby="heading-078425eaf316a180b0989442e53f920b"><div class="category-post-list"><a href="/posts/53027/" title="Ajax 和 Json" class="list-group-item list-group-item-action"><span class="category-post">Ajax 和 Json</span></a> <a href="/posts/40991/" title="Docker" class="list-group-item list-group-item-action"><span class="category-post">Docker</span></a> <a href="/posts/22111/" title="JQuery 学习笔记" class="list-group-item list-group-item-action"><span class="category-post">JQuery 学习笔记</span></a> <a href="/posts/43258/" title="Java 多线程学习笔记" class="list-group-item list-group-item-action"><span class="category-post">Java 多线程学习笔记</span></a> <a href="/posts/12475/" title="Java 注解与反射" class="list-group-item list-group-item-action"><span class="category-post">Java 注解与反射</span></a> <a href="/posts/15254/" title="Java 网络编程学习笔记" class="list-group-item list-group-item-action"><span class="category-post">Java 网络编程学习笔记</span></a> <a href="/posts/16781/" title="JavaWeb 学习笔记" class="list-group-item list-group-item-action active"><span class="category-post">JavaWeb 学习笔记</span></a> <a href="/posts/33152/" title="MyBatis-Plus" class="list-group-item list-group-item-action"><span class="category-post">MyBatis-Plus</span></a> <a href="/posts/39805/" title="MySQL 学习笔记" class="list-group-item list-group-item-action"><span class="category-post">MySQL 学习笔记</span></a> <a href="/posts/15608/" title="Mybatis" class="list-group-item list-group-item-action"><span class="category-post">Mybatis</span></a> <a href="/posts/27273/" title="Redis" class="list-group-item list-group-item-action"><span class="category-post">Redis</span></a> <a href="/posts/18155/" title="Spring" class="list-group-item list-group-item-action"><span class="category-post">Spring</span></a> <a href="/posts/46897/" title="Spring MVC" class="list-group-item list-group-item-action"><span class="category-post">Spring MVC</span></a> <a href="/posts/33757/" title="SpringBoot" class="list-group-item list-group-item-action"><span class="category-post">SpringBoot</span></a> <a href="/posts/42622/" title="SpringCloud" class="list-group-item list-group-item-action"><span class="category-post">SpringCloud</span></a> <a href="/posts/43782/" title="Vue" class="list-group-item list-group-item-action"><span class="category-post">Vue</span></a> <a href="/posts/43167/" title="git" class="list-group-item list-group-item-action"><span class="category-post">git</span></a> <a href="/posts/62461/" title="python 爬虫" class="list-group-item list-group-item-action"><span class="category-post">python 爬虫</span></a> <a href="/posts/13607/" title="基于 Centos6.5 的 Httpd 安装" class="list-group-item list-group-item-action"><span class="category-post">基于 Centos6.5 的 Httpd 安装</span></a> <a href="/posts/6262/" title="基于 Centos6.8 的 Hadoop 分布式集群安装" class="list-group-item list-group-item-action"><span class="category-post">基于 Centos6.8 的 Hadoop 分布式集群安装</span></a> <a href="/posts/59309/" title="基于 Centos7 的 Zookeeper 安装" class="list-group-item list-group-item-action"><span class="category-post">基于 Centos7 的 Zookeeper 安装</span></a> <a href="/posts/13858/" title="软件工程随笔" class="list-group-item list-group-item-action"><span class="category-post">软件工程随笔</span></a></div></div></div></div></aside></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">JavaWeb 学习笔记</h1><p class="note note-warning">本文最后更新于：2022年12月8日 晚上</p><div class="markdown-body"><h1 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>web 开发:</p><ul><li>web, 网页的意思，我们能从网上拿到一些资源</li><li>静态 web：<ul><li>html，css</li><li>提供给所有人看的数据始终不会发生变化</li></ul></li><li>动态 web：<ul><li>几乎所有的网站</li><li>提供给所有人看的数据会发生变化，每个人在不同时间，不同地点看到的信息各不相同</li><li>技术栈：Servlet / JSP ，ASP ，PHP</li></ul></li></ul><p>在 java 中，动态 web 资源开发的技术统称为：JavaWeb</p><h3 id="web应用程序"><a href="#web应用程序" class="headerlink" title="web应用程序"></a>web 应用程序</h3><ul><li><p>web 应用程序：可以提供浏览器访问的程序</p></li><li><p>我们能访问到的任何一个页面或者资源，都存在于世界上的某一个计算机上</p></li><li><p>这些统一的 web 资源会被放在同一个文件夹下</p></li><li><p>一个 web 应用由多部份组成（静态 / 动态 web）</p><ul><li>html，css，js</li><li>jsp，servlet</li><li>Java 程序</li><li>jar 包</li><li>配置文件</li></ul></li></ul><p>web 应用程序编写完毕后，若想提供给外界访问，需要一个服务器统一管理</p><h3 id="静态web"><a href="#静态web" class="headerlink" title="静态web"></a>静态 web</h3><ul><li>*.htm *.html 都是网页的后缀，如果服务器上存在这些东西，我们就可以进行读取，通络</li></ul><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E9%9D%99%E6%80%81Web%E7%A4%BA%E6%84%8F%E5%9B%BE.png" srcset="/img/loading.gif" lazyload alt="静态Web示意图"></p><ul><li>静态 web 的缺点<ul><li>web 页面无法动态更新，所有用户看到的都是同一个页面<ul><li>可以使用 JavaScript 做成伪动态</li></ul></li><li>它无法和数据库交互（数据无法持久化，用户无法交互）</li></ul></li></ul><h3 id="动态web"><a href="#动态web" class="headerlink" title="动态web"></a>动态 web</h3><p>页面会动态显示：web 的页面展示效果因人而异</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E5%8A%A8%E6%80%81Web%E7%A4%BA%E6%84%8F%E5%9B%BE.png" srcset="/img/loading.gif" lazyload alt="动态Web示意图"></p><p>缺点：</p><ul><li>假如服务器的动态 web 资源出现了错误，我们需要重新编写我们的后台程序，重新发布<ul><li>停机维护</li></ul></li></ul><p>优点:</p><ul><li>web 页面可以动态更新，所有用户看到的都不是同一个页面</li><li>它可以和数据库交互（数据持久化：注册，用户信息。。。）</li></ul><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E5%8A%A8%E6%80%81Web%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93.png" srcset="/img/loading.gif" lazyload alt="动态Web连接数据库"></p><h1 id="web服务器"><a href="#web服务器" class="headerlink" title="web服务器"></a>web 服务器</h1><h2 id="技术"><a href="#技术" class="headerlink" title="技术"></a>技术</h2><p>ASP：</p><ul><li>微软：国内最早留下的就是 ASP</li><li>在 HTML 中嵌入了 vb 脚本，ASP+COM</li><li>在 ASP 开发中，基本一个页面都有几千行业务代码，维护成本高</li><li>C#</li><li>IIS</li></ul><p>PHP：</p><ul><li>PHP 开发速度很快，功能强大，跨平台，代码简单</li><li>无法承载大访问量的情况（局限性）</li></ul><p>JSP/Servlet：</p><ul><li>sun 公司主推的 B/S 架构</li><li>基于 Java 语言（所有的大公司或者一些开源的组件都是使用 Java 的）</li><li>可以承载高并发，高可用，高性能问题带来的影响</li><li>语法与 ASP 类似，加强市场强度</li></ul><p>…</p><h2 id="web服务器-1"><a href="#web服务器-1" class="headerlink" title="web服务器"></a>web 服务器</h2><p>服务器是一种被动的操作，用来处理用户的一些请求和给用户一些响应信息</p><p>IIS：</p><ul><li>微软的，ASP，Windows 自带</li></ul><p>tomcat：</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/javaweb_tomcat.png" srcset="/img/loading.gif" lazyload alt="tomcat"></p><p>Tomcat 是 Apache 软件基金会（Apache Software Foundation）的 Jakarta 项目中的一个核心项目，最新的 Servlet 和 JSP 规范总是能在 Tomcat 中得到体现，Tomcat 5 支持最新的 Servlet 2.4 和 JSP 2.0 规范。因为 Tomcat 技术先进、性能稳定，而且免费，因而深受 Java 爱好者的喜爱并得到了部分软件开发商的认可，成为目前比较流行的 Web 应用服务器。</p><p>Tomcat 服务器是一个免费的开放源代码的 Web 应用服务器，属于轻量级应用服务器，在中小型系统和并发访问用户不是很多的场合下被普遍使用，是开发和调试 JSP 程序的首选。对于一个初学 JavaWeb 的人来说，它是最佳的选择。</p><p>tomcat 实际上运行 JSP 页面和 Servlet。目前 Tomcat 最新版本为 10.0.5<strong>。</strong></p><h3 id="tomcat"><a href="#tomcat" class="headerlink" title="tomcat"></a>tomcat</h3><h4 id="安装tomcat"><a href="#安装tomcat" class="headerlink" title="安装tomcat"></a>安装 tomcat</h4><p><a target="_blank" rel="noopener" href="https://tomcat.apache.org/">点击进入 tomcat 官网</a></p><h4 id="tomcat的启动"><a href="#tomcat的启动" class="headerlink" title="tomcat的启动"></a>tomcat 的启动</h4><p>bin 目录下的 startup.bat</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/javaweb_tomcat%E5%90%AF%E5%8A%A8.png" srcset="/img/loading.gif" lazyload alt="tomcat启动"></p><h4 id="tomcat访问测试"><a href="#tomcat访问测试" class="headerlink" title="tomcat访问测试"></a>tomcat 访问测试</h4><p><a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080/</a></p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/javaweb_%E5%90%AF%E5%8A%A8tomcat%E4%B8%BB%E9%A1%B5.png" srcset="/img/loading.gif" lazyload alt="启动tomcat主页"></p><h4 id="tomcat的关闭"><a href="#tomcat的关闭" class="headerlink" title="tomcat的关闭"></a>tomcat 的关闭</h4><p>bin 目录下的 shutdown.bat</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E5%85%B3%E9%97%ADTomcat.png" srcset="/img/loading.gif" lazyload alt="关闭Tomcat"></p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_server%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.png" srcset="/img/loading.gif" lazyload alt="server.xml"></p><p>可以配置启动的默认端口号 8080，默认主机名称：localhost…</p><p>系统变量配置</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_Tomcat%E8%B7%AF%E5%BE%84.png" srcset="/img/loading.gif" lazyload alt="Tomcat路径"></p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_Tomcat%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F.png" srcset="/img/loading.gif" lazyload alt="Catalina系统变量"><br>path 变量配置</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_path%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F.png" srcset="/img/loading.gif" lazyload alt="path变量"></p><h4 id="相关面试题"><a href="#相关面试题" class="headerlink" title="相关面试题"></a>相关面试题</h4><p>请你谈谈网站是如何进行访问的</p><ol><li>输入域名，回车</li><li>检查本机 hosts 配置文件下有没有这个域名映射<ol><li>有：直接返回对应的 ip 地址，这个地址中，有我们需要的 web 程序，可以直接访问</li><li>没有：去 DNS 服务器找，找到就返回，找不到就返回找不到页面</li></ol></li></ol><h3 id="发布一个web网站"><a href="#发布一个web网站" class="headerlink" title="发布一个web网站"></a>发布一个 web 网站</h3><ul><li>将自己写的网站，放到服务器（tomcat）中指定的 web 应用的文件夹（webapps）下，就可以访问了</li></ul><p>网站的结构：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java">--webapps：tomcat服务器的web目录<br>    -ROOT<br>    -xxxx：网站的目录名<br>    	-WEB-INF<br>     		-classes：Java程序<br>    		-lib：web应用所依赖的jar包<br>    		-web.xml：网站配置文件<br>    	- index.html：默认首页<br>    	- <span class="hljs-keyword">static</span><br>    		-css<br>    		-js<br>    		-img<br>    		-...<br></code></pre></td></tr></tbody></table></figure><h1 id="http"><a href="#http" class="headerlink" title="http"></a>http</h1><h2 id="什么是http"><a href="#什么是http" class="headerlink" title="什么是http"></a>什么是 http</h2><p>HTTP（超文本传输协议）是一个简单的请求 - 响应协议，它通常运行在 TCP 之上。</p><ul><li>文本：html、字符串…</li><li>超文本：图片，音频，视频，定位，地图…</li><li>默认端口：80</li></ul><p>Https：安全的</p><ul><li>默认端口：443</li></ul><h3 id="两个时代"><a href="#两个时代" class="headerlink" title="两个时代"></a>两个时代</h3><ul><li>http1.0<ul><li>http/1.0：客户端可以与 web 服务器连接，只能获得一个 web 资源，之后断开连接。</li></ul></li><li>http2.0<ul><li>http/1.1（目前）：客户端可以与 web 服务器连接，可以获得多个 web 资源。</li></ul></li></ul><h2 id="http请求"><a href="#http请求" class="headerlink" title="http请求"></a>http 请求</h2><ul><li>客户端–发请求 (Request)–服务器</li></ul><p>以百度为例：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">Request URL: https:<span class="hljs-comment">//www.baidu.com/  请求地址</span><br>Request Method: GET  get方法/post方法<br>Status Code: <span class="hljs-number">200</span> OK  状态码：<span class="hljs-number">200</span><br>Remote Address: <span class="hljs-number">14.215</span><span class="hljs-number">.177</span><span class="hljs-number">.38</span>:<span class="hljs-number">443</span>  远程地址<br>Referrer Policy: unsafe-url  协议<br></code></pre></td></tr></tbody></table></figure><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">Accept: text/html		类型<br>Accept-Encoding: gzip, deflate, br		编码<br>Accept-Language: zh-CN,zh;q=<span class="hljs-number">0.9</span>,en;q=<span class="hljs-number">0.8</span>	语言<br>Cache-Control: max-age=<span class="hljs-number">0</span><br>Connection: keep-alive		保持连接<br></code></pre></td></tr></tbody></table></figure><h3 id="请求行"><a href="#请求行" class="headerlink" title="请求行"></a>请求行</h3><ul><li>请求行中的请求方式：GET</li><li>请求方式：GET、POST、HEAD、DELETE、PUT、TRACT…<ul><li>get：请求能够携带的参数比较少，大小有限制，会在浏览器的 URL 地址栏显示数据内容，不安全，但是高效。</li><li>post：请求能够携带的参数、大小没有限制，不会在浏览器的 URL 地址栏显示数据内容，不安全，但不高效。</li></ul></li></ul><h3 id="消息头"><a href="#消息头" class="headerlink" title="消息头"></a>消息头</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Accept：告诉浏览器它所支持的数据类型<br>Accept-Encoding：支持哪种编码格式  GBK UTF-<span class="hljs-number">8</span> G2312 ISO8859-<span class="hljs-number">1</span><br>Accept-Language：告诉浏览器它的语言环境<br>Cache-Control：缓存控制<br>Connection：告诉浏览器，请求完成时是断开还是保持连接<br>HOST：主机<br></code></pre></td></tr></tbody></table></figure><h2 id="http响应"><a href="#http响应" class="headerlink" title="http响应"></a>http 响应</h2><ul><li>服务器–响应–客户端</li></ul><p>以百度为例：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">Cache-Control: <span class="hljs-keyword">private</span>		缓存控制<br>Connection: keep-alive		保持连接<br>Content-Encoding: gzip		编码<br>Content-Type: text/html;charset=utf-<span class="hljs-number">8</span>		响应类型<br></code></pre></td></tr></tbody></table></figure><h3 id="响应体"><a href="#响应体" class="headerlink" title="响应体"></a>响应体</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">Accept：告诉浏览器它所支持的数据类型<br>Accept-Encoding：支持哪种编码格式  GBK UTF-<span class="hljs-number">8</span> G2312 ISO8859-<span class="hljs-number">1</span><br>Accept-Language：告诉浏览器它的语言环境<br>Cache-Control：缓存控制<br>Connection：告诉浏览器，请求完成时是断开还是保持连接<br>HOST：主机<br>Refrush：告诉客户端多久刷新一次<br>location：让网页重新定位<br></code></pre></td></tr></tbody></table></figure><h3 id="响应状态码（重点）"><a href="#响应状态码（重点）" class="headerlink" title="响应状态码（重点）"></a>响应状态码（重点）</h3><p>200：请求响应成功</p><p>3xx：请求重定向</p><ul><li>重定向：重新到给定的新位置</li></ul><p>4xx：找不到资源</p><ul><li>404</li><li>403</li></ul><p>5xx：服务器代码错误</p><ul><li>500</li><li>502（网关错误）</li></ul><h3 id="常见面试题"><a href="#常见面试题" class="headerlink" title="常见面试题"></a>常见面试题</h3><p>当你的浏览器中地址栏并回车的一瞬间到页面能够展示回来，尽力了什么？</p><h1 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h1><p><strong>为什么需要学？</strong></p><ol><li>在 JavaWeb 开发中，需要使用大量的 jar 包，我们需要手动导入</li><li>如何能够让一个东西自动帮我们导入和配置 jar 包？</li><li>由此，maven 诞生</li></ol><h2 id="Maven项目架构管理工具"><a href="#Maven项目架构管理工具" class="headerlink" title="Maven项目架构管理工具"></a>Maven 项目架构管理工具</h2><p>目前使用 maven 就是用来方便导入 jar 包</p><p>Maven 的核心思想：<strong>约定大于配置</strong></p><ul><li>有约束就不要去违反。</li></ul><p>Maven 会规定好如何去编写我们的 java 代码，必须要按照这个规范来</p><h2 id="下载安装Maven"><a href="#下载安装Maven" class="headerlink" title="下载安装Maven"></a>下载安装 Maven</h2><p><a target="_blank" rel="noopener" href="https://maven.apache.org/">点击进入 Maven 官网下载</a>，下载完成后解压即可</p><h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_Maven%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F.png" srcset="/img/loading.gif" lazyload alt="maven系统变量"></p><h2 id="阿里云镜像"><a href="#阿里云镜像" class="headerlink" title="阿里云镜像"></a>阿里云镜像</h2><ul><li>镜像：mirrors<ul><li>作用：加速我们的下载</li></ul></li><li>国内建议使用阿里云的镜像</li></ul><p>打开</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_maven%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84.png" srcset="/img/loading.gif" lazyload alt="maven配置文件路径"></p><p>添加</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_maven%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9.png" srcset="/img/loading.gif" lazyload alt="maven配置文件修改"></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span><br>　　	<span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>nexus-aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>　　	<span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>*,!jeecg,!jeecg-snapshots<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span><br>　　	<span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Nexus aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>　	 <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public/<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure><h2 id="本地仓库"><a href="#本地仓库" class="headerlink" title="本地仓库"></a>本地仓库</h2><p>建立一个本地仓库</p><p>打开</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_maven%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84.png" srcset="/img/loading.gif" lazyload alt="maven配置文件路径"></p><p>修改</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_maven%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9.png" srcset="/img/loading.gif" lazyload alt="maven仓库配置文件修改"></p><p>建立文件夹</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_maven%E4%BB%93%E5%BA%93%E5%88%9B%E5%BB%BA.png" srcset="/img/loading.gif" lazyload alt="maven仓库创建"></p><h1 id="在IDEA中使用Maven"><a href="#在IDEA中使用Maven" class="headerlink" title="在IDEA中使用Maven"></a>在 IDEA 中使用 Maven</h1><ol><li>启动 IDEA</li><li>创建一个 Maven 项目<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_maven%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA.png" srcset="/img/loading.gif" lazyload alt="创建一个Maven项目"></li><li>出现 BUILD SUCCESS 表示成功<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_maven%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E6%88%90%E5%8A%9F.png" srcset="/img/loading.gif" lazyload alt="maven项目创建成功"></li><li>只有在 web 应用下才有<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_maven%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84.png" srcset="/img/loading.gif" lazyload alt="maven项目结构"></li><li>观察 Maven 仓库</li><li>IDEA 中 Maven 的配置<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_maven%E9%85%8D%E7%BD%AE.png" srcset="/img/loading.gif" lazyload alt="Maven的配置"></li><li>到这里 Maven 的配置和使用就 ok 了</li></ol><h2 id="创建一个普通的Maven项目"><a href="#创建一个普通的Maven项目" class="headerlink" title="创建一个普通的Maven项目"></a>创建一个普通的 Maven 项目</h2><ol><li>直接点下一步<img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E6%99%AE%E9%80%9Amaven%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%88%9B%E5%BB%BA.png" srcset="/img/loading.gif" lazyload alt="普通maven项目的创建"></li><li>一个干净的 Maven 项目<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E6%99%AE%E9%80%9Amaven%E9%A1%B9%E7%9B%AE.png" srcset="/img/loading.gif" lazyload alt="干净的Maven项目"></li></ol><h2 id="在IDEA中标记目录功能"><a href="#在IDEA中标记目录功能" class="headerlink" title="在IDEA中标记目录功能"></a>在 IDEA 中标记目录功能</h2><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E6%A0%87%E8%AE%B0%E7%9B%AE%E5%BD%95.png" srcset="/img/loading.gif" lazyload alt="标记目录"></p><h2 id="在IDEA中配置tomcat"><a href="#在IDEA中配置tomcat" class="headerlink" title="在IDEA中配置tomcat"></a>在 IDEA 中配置 tomcat</h2><ol><li>点击编辑配置<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E7%BC%96%E8%BE%91%E9%85%8D%E7%BD%AE.png" srcset="/img/loading.gif" lazyload alt="编辑配置"></li><li>点击本地 tomcat<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E6%9C%AC%E5%9C%B0Tomcat.png" srcset="/img/loading.gif" lazyload alt="本地tomcat"></li><li>解决警告问题<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E8%A7%A3%E5%86%B3Tomcat%E8%AD%A6%E5%91%8A.png" srcset="/img/loading.gif" lazyload alt="解决警告"></li><li>为什么会有这个问题：<br><strong>我们访问一个网站，需要指定一个文件夹的名字</strong></li><li>运行<img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E7%AC%AC%E4%B8%80%E4%B8%AAtomcat%E7%A8%8B%E5%BA%8F.png" srcset="/img/loading.gif" lazyload alt="第一个Tomcat程序"></li></ol><h2 id="pom文件"><a href="#pom文件" class="headerlink" title="pom文件"></a>pom 文件</h2><p>pom.xml 是 Maven 的核心配置文件</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span><br><span class="hljs-comment">&lt;!--Maven版本和头文件--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="hljs-tag">  <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><span class="hljs-comment">&lt;!--这里就是我们自己配置的GAV--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zlw<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>JavaWeb-01-Maven<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">packaging</span>&gt;</span>war<span class="hljs-tag">&lt;/<span class="hljs-name">packaging</span>&gt;</span><br><span class="hljs-comment">&lt;!--packaging 打包方式 war web应用打包方式--&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>JavaWeb-01-Maven Maven Webapp<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- FIXME change it to the project's website --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://www.example.com<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span><br><span class="hljs-comment">&lt;!--项目默认构建编码--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span><br><span class="hljs-comment">&lt;!--编码版本--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>1.7<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>1.7<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><span class="hljs-comment">&lt;!--项目依赖--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-comment">&lt;!--具体依赖的包--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.11<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-comment">&lt;!--项目构建用的东西--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">finalName</span>&gt;</span>JavaWeb-01-Maven<span class="hljs-tag">&lt;/<span class="hljs-name">finalName</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">pluginManagement</span>&gt;</span><span class="hljs-comment">&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-clean-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-resources-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.0.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.8.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-surefire-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.22.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-war-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-install-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-deploy-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.8.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">pluginManagement</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br><br></code></pre></td></tr></tbody></table></figure><p>Maven 由于它的约定大于配置，之后写的配置文件可能无法导出或者生效，解决方案 ———— 在 build 中配置 resources，来防止资源导出失败的问题</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--静态资源导出问题--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure><h2 id="IDEA目录树"><a href="#IDEA目录树" class="headerlink" title="IDEA目录树"></a>IDEA 目录树</h2><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E7%9B%AE%E5%BD%95%E6%A0%91.png" srcset="/img/loading.gif" lazyload alt="IDEA目录树"></p><h2 id="Maven仓库"><a href="#Maven仓库" class="headerlink" title="Maven仓库"></a>Maven 仓库</h2><p>地址：<a target="_blank" rel="noopener" href="https://mvnrepository.com/">https://mvnrepository.com/</a></p><h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><h2 id="Servlet简介"><a href="#Servlet简介" class="headerlink" title="Servlet简介"></a>Servlet 简介</h2><ul><li><p>Servlet 就是 Sun 公司开发动态 web 的一门技术</p></li><li><p>Sun 公司在这些 API 中提供了一个接口：Servlet，如果想开发一个 Servlet 程序，只需要完成两个小步骤：</p><ul><li>编写一个类，实现 Servlet 接口</li><li>把开发好的 Java 类部署到 web 服务器中</li></ul><p><strong>把实现了 Servlet 接口的 Java 程序叫做：Servlet</strong></p></li></ul><h2 id="HelloServlet"><a href="#HelloServlet" class="headerlink" title="HelloServlet"></a>HelloServlet</h2><ol><li><p>创建一个 Maven 项目，删掉 src 目录，之后的学习在这个项目建立 Model；这个空的工程就是 maven 的主工程</p></li><li><p>关于 Maven 父子工程的理解：<br>父项目中会有</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>Servlet-01<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure><p>子项目会有</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>JavaWeb-02-Servlet<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zlw<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure><p>父项目中的 Java 项目子项目可以直接使用</p></li><li><p>Maven 环境优化</p><ul><li>修改 web.xml 为最新的</li><li>将 Maven 项目结构搭建完整</li></ul></li><li><p>编写一个 Servlet 程序</p><ul><li>新建 Servlet 类继承 HttpServlet</li></ul><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw.Servlet; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/6/1</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.PrintWriter;<br><br><span class="hljs-comment">//由于get或者post只是请求实现的不同的方式，可以相互调用，业务逻辑一样</span><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"HelloServlet"</span>, value = <span class="hljs-string">"/HelloServlet"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-comment">//ServletOutputStream outputStream = response.getOutputStream();</span><br>		<span class="hljs-type">PrintWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> response.getWriter(); <span class="hljs-comment">//响应流</span><br>		writer.print(<span class="hljs-string">"Hello,Servlet!"</span>);<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br></code></pre></td></tr></tbody></table></figure></li><li><p>编写 Servlet 的映射<br>为什么需要映射：我们写的是 Java 程序，但是要通过浏览器访问，而浏览器需要连接 web 服务器，所以我们需要在 web 服务器中注册我们写的 Servlet，还需要给他一个浏览器能够访问的路径；</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.zlw.Servlet.HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/zlw<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>配置 Tomcat</p></li><li><p>启动测试</p></li></ol><h2 id="Servlet原理"><a href="#Servlet原理" class="headerlink" title="Servlet原理"></a>Servlet 原理</h2><p>Servlet 是由 Web 服务器调用，Web 服务器在收到浏览器请求后，会：</p><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_Servlet%E5%8E%9F%E7%90%86.png" srcset="/img/loading.gif" lazyload alt="Servlet原理"></p><h2 id="Mapping问题"><a href="#Mapping问题" class="headerlink" title="Mapping问题"></a>Mapping 问题</h2><ol><li>一个 Servlet 可以指定一个映射路径</li><li>一个 Servlet 可以指定多个映射路径</li><li>一个 Servlet 可以指定通用映射路径</li><li>固有的优先级高，通配符优先级低</li></ol><h2 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h2><p>Web 容器在启动的时候，它会为每个 web 程序都创建一个 ServletContext 对象，它代表了当前的 web 应用</p><h3 id="共享数据"><a href="#共享数据" class="headerlink" title="共享数据"></a>共享数据</h3><p>我们在这个 Servlet 中保存的数据，可以在另外一个 Servlet 中拿到<br>放置数据的类：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java">  <span class="hljs-keyword">package</span> com.zlw;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/6/5</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"HelloServlet"</span>, value = <span class="hljs-string">"/HelloServlet"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br><br><br><span class="hljs-comment">//		this.getInitParameter();      初始化参数（一般不用）</span><br><span class="hljs-comment">//		this.getServletConfig();      Servlet配置（一般在xml里）</span><br><span class="hljs-comment">//		this.getServletContext();     Servlet上下文</span><br><br>		<span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext();<br><br>		<span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> <span class="hljs-string">"张三"</span>;<span class="hljs-comment">//数据</span><br>		context.setAttribute(<span class="hljs-string">"username"</span>,username);<span class="hljs-comment">//将一个数据保存在ServletContext</span><br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br></code></pre></td></tr></tbody></table></figure><p>获取数据的类：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/6/6</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.PrintWriter;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"GetServlet"</span>, value = <span class="hljs-string">"/GetServlet"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GetServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext();<br>		<span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> (String) context.getAttribute(<span class="hljs-string">"username"</span>);<br><br>		response.setContentType(<span class="hljs-string">"text/html"</span>);<br>		response.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br>		response.getWriter().print(<span class="hljs-string">"名字："</span> + username);<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><p>测试访问结果</p><h3 id="获取初始化参数"><a href="#获取初始化参数" class="headerlink" title="获取初始化参数"></a>获取初始化参数</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>url<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>jdbc:mysql://localhost:3306/mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure><p>获取参数：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/6/6</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"ServletDemo03"</span>, value = <span class="hljs-string">"/ServletDemo03"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServletDemo03</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>        <span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext();<br>        <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> context.getInitParameter(<span class="hljs-string">"url"</span>);<br>        response.getWriter().print(url);<br>    }<br>  <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>        doGet(request, response);<br>    }<br>}<br><br></code></pre></td></tr></tbody></table></figure><h3 id="请求转发"><a href="#请求转发" class="headerlink" title="请求转发"></a>请求转发</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/6/6</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"ServletDemo04"</span>, value = <span class="hljs-string">"/ServletDemo04"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServletDemo04</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>        <span class="hljs-type">ServletContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext();<br>        context.getRequestDispatcher(<span class="hljs-string">"/ServletDemo03"</span>).forward(request, response);<br>    }<br>  <br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>        doGet(request, response);<br>    }<br>}<br><br></code></pre></td></tr></tbody></table></figure><h3 id="读取资源文件"><a href="#读取资源文件" class="headerlink" title="读取资源文件"></a>读取资源文件</h3><p>Properties</p><ul><li><p>在 Java 目录下新建 properties（需要更改 pom.xml）</p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure></li><li><p>在 resources 目录下新建 properties</p></li></ul><p>发现都被打包到了同一个路径下：classes，我们俗称这个路径为：classpath</p><p>思路：需要一个文件流</p><figure class="highlight properties"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">password</span>=<span class="hljs-string">root</span><br></code></pre></td></tr></tbody></table></figure><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/6/6</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.util.Properties;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"PropertiesServlet"</span>, value = <span class="hljs-string">"/PropertiesServlet"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PropertiesServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.getServletContext().getResourceAsStream(<span class="hljs-string">"/WEB-INF/classes/db.properties"</span>);<br>		<span class="hljs-type">Properties</span> <span class="hljs-variable">prop</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Properties</span>();<br>		prop.load(is);<br>		<span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> prop.getProperty(<span class="hljs-string">"username"</span>);<br>		<span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> prop.getProperty(<span class="hljs-string">"password"</span>);<br><br>		response.getWriter().print(username+<span class="hljs-string">":"</span>+password);<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>	doGet(request, response);<br>	}<br><br>}<br><br></code></pre></td></tr></tbody></table></figure><p>访问测试；</p><h2 id="HttpServletResponse"><a href="#HttpServletResponse" class="headerlink" title="HttpServletResponse"></a>HttpServletResponse</h2><p>web 服务器接收到客户端的 http 请求，针对这个请求，分别创建一个代表请求的 HttpServletResquest 对象，代表响应的一个 HttpServletResponse；</p><ul><li>如果要获取客户端请求过来的参数，找 HttpServletRequest</li><li>如果要给客户端响应一些信息，找 HttpServletResponse</li></ul><h3 id="简单分类"><a href="#简单分类" class="headerlink" title="简单分类"></a>简单分类</h3><p>向浏览器发送数据的方法</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">ServletOutputStream <span class="hljs-title function_">getOutputStream</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException;<br>PrintWriter <span class="hljs-title function_">getWriter</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException;<br></code></pre></td></tr></tbody></table></figure><p>负责向浏览器发送响应头的方法</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">setDateHeader</span><span class="hljs-params">(String var1, <span class="hljs-type">long</span> var2)</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">addDateHeader</span><span class="hljs-params">(String var1, <span class="hljs-type">long</span> var2)</span><br><span class="hljs-keyword">void</span> <span class="hljs-title function_">setHeader</span><span class="hljs-params">(String var1, String var2)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">addHeader</span><span class="hljs-params">(String var1, String var2)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">setIntHeader</span><span class="hljs-params">(String var1, <span class="hljs-type">int</span> var2)</span>;<br><span class="hljs-keyword">void</span> <span class="hljs-title function_">addIntHeader</span><span class="hljs-params">(String var1, <span class="hljs-type">int</span> var2)</span>;<br></code></pre></td></tr></tbody></table></figure><p>响应码</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">SC_CONTINUE</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_SWITCHING_PROTOCOLS</span> <span class="hljs-operator">=</span> <span class="hljs-number">101</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_OK</span> <span class="hljs-operator">=</span> <span class="hljs-number">200</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_CREATED</span> <span class="hljs-operator">=</span> <span class="hljs-number">201</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_ACCEPTED</span> <span class="hljs-operator">=</span> <span class="hljs-number">202</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NON_AUTHORITATIVE_INFORMATION</span> <span class="hljs-operator">=</span> <span class="hljs-number">203</span><br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NO_CONTENT</span> <span class="hljs-operator">=</span> <span class="hljs-number">204</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_RESET_CONTENT</span> <span class="hljs-operator">=</span> <span class="hljs-number">205</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_PARTIAL_CONTENT</span> <span class="hljs-operator">=</span> <span class="hljs-number">206</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_MULTIPLE_CHOICES</span> <span class="hljs-operator">=</span> <span class="hljs-number">300</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_MOVED_PERMANENTLY</span> <span class="hljs-operator">=</span> <span class="hljs-number">301</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_MOVED_TEMPORARILY</span> <span class="hljs-operator">=</span> <span class="hljs-number">302</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_FOUND</span> <span class="hljs-operator">=</span> <span class="hljs-number">302</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_SEE_OTHER</span> <span class="hljs-operator">=</span> <span class="hljs-number">303</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NOT_MODIFIED</span> <span class="hljs-operator">=</span> <span class="hljs-number">304</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_USE_PROXY</span> <span class="hljs-operator">=</span> <span class="hljs-number">305</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_TEMPORARY_REDIRECT</span> <span class="hljs-operator">=</span> <span class="hljs-number">307</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_BAD_REQUEST</span> <span class="hljs-operator">=</span> <span class="hljs-number">400</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_UNAUTHORIZED</span> <span class="hljs-operator">=</span> <span class="hljs-number">401</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_PAYMENT_REQUIRED</span> <span class="hljs-operator">=</span> <span class="hljs-number">402</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_FORBIDDEN</span> <span class="hljs-operator">=</span> <span class="hljs-number">403</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NOT_FOUND</span> <span class="hljs-operator">=</span> <span class="hljs-number">404</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_METHOD_NOT_ALLOWED</span> <span class="hljs-operator">=</span> <span class="hljs-number">405</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NOT_ACCEPTABLE</span> <span class="hljs-operator">=</span> <span class="hljs-number">406</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_PROXY_AUTHENTICATION_REQUIRED</span> <span class="hljs-operator">=</span> <span class="hljs-number">407</span><br><span class="hljs-type">int</span> <span class="hljs-variable">SC_REQUEST_TIMEOUT</span> <span class="hljs-operator">=</span> <span class="hljs-number">408</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_CONFLICT</span> <span class="hljs-operator">=</span> <span class="hljs-number">409</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_GONE</span> <span class="hljs-operator">=</span> <span class="hljs-number">410</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_LENGTH_REQUIRED</span> <span class="hljs-operator">=</span> <span class="hljs-number">411</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_PRECONDITION_FAILED</span> <span class="hljs-operator">=</span> <span class="hljs-number">412</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_REQUEST_ENTITY_TOO_LARGE</span> <span class="hljs-operator">=</span> <span class="hljs-number">413</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_REQUEST_URI_TOO_LONG</span> <span class="hljs-operator">=</span> <span class="hljs-number">414</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_UNSUPPORTED_MEDIA_TYPE</span> <span class="hljs-operator">=</span> <span class="hljs-number">415</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_REQUESTED_RANGE_NOT_SATISFIABLE</span> <span class="hljs-operator">=</span> <span class="hljs-number">4</span><br><span class="hljs-type">int</span> <span class="hljs-variable">SC_EXPECTATION_FAILED</span> <span class="hljs-operator">=</span> <span class="hljs-number">417</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_INTERNAL_SERVER_ERROR</span> <span class="hljs-operator">=</span> <span class="hljs-number">500</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_NOT_IMPLEMENTED</span> <span class="hljs-operator">=</span> <span class="hljs-number">501</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_BAD_GATEWAY</span> <span class="hljs-operator">=</span> <span class="hljs-number">502</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_SERVICE_UNAVAILABLE</span> <span class="hljs-operator">=</span> <span class="hljs-number">503</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_GATEWAY_TIMEOUT</span> <span class="hljs-operator">=</span> <span class="hljs-number">504</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">SC_HTTP_VERSION_NOT_SUPPORTED</span> <span class="hljs-operator">=</span> <span class="hljs-number">505</span>;<br></code></pre></td></tr></tbody></table></figure><h3 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h3><ol><li><p>向浏览器输出消息</p></li><li><p>下载文件</p><ol><li><p>要获取下载文件的路径</p></li><li><p>下载的文件名</p></li><li><p>设置办法让浏览器能够支持（Content-Disposition）下载我们想要的东西，用 URLEncoder.encode 转换编码</p></li><li><p>获取下载文件的输入流</p></li><li><p>创建缓冲区</p></li><li><p>获取 OutputStream 对象</p></li><li><p>将 FileOutputStream 流写入到 buffer 缓冲区</p></li><li><p>使用 OutputStream 将缓冲区中的数据输出到客户端！</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/6/6</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.FileInputStream;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.net.URLEncoder;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"FileServlet"</span>, value = <span class="hljs-string">"/FileServlet"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FileServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-comment">//1. 要获取下载文件的路径</span><br>		<span class="hljs-type">String</span> <span class="hljs-variable">realPath</span> <span class="hljs-operator">=</span> <span class="hljs-string">"E:\\JavaWeb\\JavaWeb-02-Servlet\\response\\src\\main\\resources\\课程表.png"</span>;<br>		System.out.println(<span class="hljs-string">"下载文件的路径："</span> + realPath);<br>		<span class="hljs-comment">//2. 下载的文件名</span><br>		<span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> realPath.substring(realPath.lastIndexOf(<span class="hljs-string">"\\"</span>) + <span class="hljs-number">1</span>);<br>		<span class="hljs-comment">//3. 设置办法让浏览器能够支持下载我们想要的东西,用URLEncoder.encode转换编码</span><br>		response.setHeader(<span class="hljs-string">"Content-Disposition"</span>, <span class="hljs-string">"attachment;filename="</span> + URLEncoder.encode(fileName, <span class="hljs-string">"UTF-8"</span>));<br>		<span class="hljs-comment">//4. 获取下载文件的输入流</span><br>		<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(realPath);<br>		<span class="hljs-comment">//5. 创建缓冲区</span><br>		<span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>		<span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br>		<span class="hljs-comment">//6. 获取OutputStream对象</span><br>		<span class="hljs-type">ServletOutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> response.getOutputStream();<br>		<span class="hljs-comment">//7. 将FileOutputStream流写入到buffer缓冲区,使用OutputStream将缓冲区中的数据输出到客户端!</span><br>		<span class="hljs-keyword">while</span> ((len = in.read(buffer)) &gt; <span class="hljs-number">0</span>) {<br>			out.write(buffer, <span class="hljs-number">0</span>, len);<br>		}<br>		out.close();<br>		in.close();<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure></li></ol></li></ol><h3 id="验证码功能"><a href="#验证码功能" class="headerlink" title="验证码功能"></a>验证码功能</h3><p>验证码怎么来的？</p><ul><li>前端实现</li><li>后端实现，需要使用到 java 的图片类，生产一个图片</li></ul><p>示例代码：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/6/30</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.imageio.ImageIO;<br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.awt.*;<br><span class="hljs-keyword">import</span> java.awt.image.BufferedImage;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.Random;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"ImageServlet"</span>, value = <span class="hljs-string">"/ImageServlet"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-comment">//让浏览器3秒自动刷新一次</span><br>		response.setHeader(<span class="hljs-string">"refresh"</span>, <span class="hljs-string">"3"</span>);<br>		<span class="hljs-comment">//在内存中创建一个图片</span><br>		<span class="hljs-type">BufferedImage</span> <span class="hljs-variable">bufferedImage</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedImage</span>(<span class="hljs-number">80</span>, <span class="hljs-number">20</span>, BufferedImage.TYPE_INT_RGB);<br>		<span class="hljs-comment">//得到图片</span><br>		<span class="hljs-type">Graphics2D</span> <span class="hljs-variable">g</span> <span class="hljs-operator">=</span> (Graphics2D) bufferedImage.getGraphics();<br>		<span class="hljs-comment">//设置背景颜色</span><br>		g.setColor(Color.WHITE);<br>		g.fillRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">80</span>, <span class="hljs-number">20</span>);<br>		<span class="hljs-comment">//给图片写数据</span><br>		g.setColor(Color.BLUE);<br>		g.setFont(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Font</span>(<span class="hljs-literal">null</span>, Font.BOLD, <span class="hljs-number">20</span>));<br>		g.drawString(makeNum(), <span class="hljs-number">0</span>, <span class="hljs-number">20</span>);<br>		<span class="hljs-comment">//告诉浏览器，这个请求用图片的方式打开</span><br>		response.setContentType(<span class="hljs-string">"image/jpeg"</span>);<br>		<span class="hljs-comment">//网站存在缓存，不然浏览器缓存</span><br>		response.setDateHeader(<span class="hljs-string">"Expires"</span>, -<span class="hljs-number">1</span>);<br>		response.setHeader(<span class="hljs-string">"Cache-Control"</span>, <span class="hljs-string">"no-cache"</span>);<br>		response.setHeader(<span class="hljs-string">"Pragma"</span>, <span class="hljs-string">"no-cache"</span>);<br>		<span class="hljs-comment">//把图片写给浏览器</span><br>		ImageIO.write(bufferedImage, <span class="hljs-string">"jpg"</span>, response.getOutputStream());<br>	}<br><br>	<span class="hljs-comment">//生成随机数</span><br>	<span class="hljs-keyword">private</span> String <span class="hljs-title function_">makeNum</span> <span class="hljs-params">()</span> {<br>		<span class="hljs-type">Random</span> <span class="hljs-variable">random</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>();<br>		<span class="hljs-type">String</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> String.valueOf(random.nextInt(<span class="hljs-number">9999999</span>));<br>		<span class="hljs-type">StringBuffer</span> <span class="hljs-variable">stringBuffer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuffer</span>();<br>		<span class="hljs-comment">//保证生成的是7位数</span><br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span> - num.length(); i++) {<br>			stringBuffer.append(<span class="hljs-string">"0"</span>);<br>		}<br>		num = stringBuffer.toString() + num;<br>		<span class="hljs-keyword">return</span> num;<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><p>重定向时一般直接用具体的站点名</p><p>一个 web 资源收到客户端请求后，他会通知客户端去访问另外一个 web 资源，这个过程叫做重定向</p><p>常见场景：</p><ul><li>用户登录</li></ul><p>使用方法：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">sendRedirect</span><span class="hljs-params">(String var1)</span> <span class="hljs-keyword">throws</span> IOException;<br></code></pre></td></tr></tbody></table></figure><p>测试：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/1</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"RedirectServlet"</span>, value = <span class="hljs-string">"/RedirectServlet"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedirectServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		response.sendRedirect(<span class="hljs-string">"ImageServlet"</span>);<span class="hljs-comment">//重定向</span><br>		<span class="hljs-comment">/*</span><br><span class="hljs-comment">		 * 相当于</span><br><span class="hljs-comment">		 * response.setHeader("Location","ImageServlet");</span><br><span class="hljs-comment">		 * response.setStatus(302);</span><br><span class="hljs-comment">		 * */</span><br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><h3 id="面试题：请你聊聊重定向和转发的区别？"><a href="#面试题：请你聊聊重定向和转发的区别？" class="headerlink" title="面试题：请你聊聊重定向和转发的区别？"></a>面试题：请你聊聊重定向和转发的区别？</h3><p>相同点：</p><ul><li>页面都会实现跳转</li></ul><p>不同点：</p><ul><li>请求转发的时候，url 不会发生变化 307</li><li>请求重定向的时候，url 会发生变化 302</li></ul><p>重定向示例：</p><p>index.jsp 代码:</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;html&gt;<br>	&lt;body&gt;<br>		&lt;h2&gt;Hello World!&lt;/h2&gt;<br>		&lt;%--这里提交的路径，需要寻找到项目的类路径--%&gt;<br>		&lt;%--${pageContext.request.contextPath代表当前的项目--%&gt;<br>		&lt;%<span class="hljs-meta">@page</span> contentType=<span class="hljs-string">"text/html; ISO-8859-1;charset=UTF-8"</span> %&gt;<br>		&lt;form action=<span class="hljs-string">"${pageContext.request.contextPath}/RequestTest"</span> method=<span class="hljs-string">"get"</span>&gt;<br>			用户名：&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"username"</span>&gt;&lt;br&gt;<br>			密码：&lt;input type=<span class="hljs-string">"password"</span> name=<span class="hljs-string">"password"</span>&gt;&lt;br&gt;<br>			&lt;input type=<span class="hljs-string">"submit"</span>&gt;<br>		&lt;/form&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></tbody></table></figure><p>成功页面：</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;title&gt;Title&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;h1&gt;Success&lt;/h1&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></tbody></table></figure><p>Java 代码：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/1</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"RequestTest"</span>, value = <span class="hljs-string">"/RequestTest"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-comment">//处理请求</span><br>		<span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> request.getParameter(<span class="hljs-string">"username"</span>);<br>		<span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> request.getParameter(<span class="hljs-string">"password"</span>);<br>		System.out.println(username + <span class="hljs-string">":"</span> + password);<br>		<span class="hljs-comment">//重定向时候一定要注意路径问题，否则会404</span><br>		response.sendRedirect(<span class="hljs-string">"/response_war/success.jsp"</span>);<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><h2 id="HttpServletRequest"><a href="#HttpServletRequest" class="headerlink" title="HttpServletRequest"></a>HttpServletRequest</h2><h3 id="获取前端传递的参数"><a href="#获取前端传递的参数" class="headerlink" title="获取前端传递的参数"></a>获取前端传递的参数</h3><p>使用的方法:<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/JavaWeb_%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0%E7%9A%84%E6%96%B9%E6%B3%95.png" srcset="/img/loading.gif" lazyload alt="一般使用第一到di四个方法"></p><h3 id="请求转发-1"><a href="#请求转发-1" class="headerlink" title="请求转发"></a>请求转发</h3><p>转发时”/“代表的是本应用程序的根目录</p><p>转发时后面加 .forward (request, response)</p><p>index.jsp 页面:</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: <span class="hljs-number">13377</span><br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span><br>  Time: <span class="hljs-number">1</span>:<span class="hljs-number">33</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;title&gt;登录&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;h1 style=<span class="hljs-string">"text-align:center;"</span>&gt;登录&lt;/h1&gt;<br>		&lt;div style=<span class="hljs-string">"text-align:center;"</span>&gt;<br>			&lt;%--这里表单表示的意思是：以post方式提交表单到：/LoginServlet--%&gt;<br>			&lt;form action=<span class="hljs-string">"${pageContext.request.contextPath}/LoginServlet"</span> method=<span class="hljs-string">"post"</span>&gt;<br>				用户名：&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"username"</span>&gt;&lt;br&gt;<br>				密码：&lt;input type=<span class="hljs-string">"password"</span> name=<span class="hljs-string">"password"</span>&gt;&lt;br&gt;<br>				爱好：<br>				&lt;input type=<span class="hljs-string">"checkbox"</span> name=<span class="hljs-string">"hobbies"</span> value=<span class="hljs-string">"代码"</span>&gt;代码<br>				&lt;input type=<span class="hljs-string">"checkbox"</span> name=<span class="hljs-string">"hobbies"</span> value=<span class="hljs-string">"唱歌"</span>&gt;唱歌<br>				&lt;input type=<span class="hljs-string">"checkbox"</span> name=<span class="hljs-string">"hobbies"</span> value=<span class="hljs-string">"画画"</span>&gt;画画<br>				&lt;input type=<span class="hljs-string">"checkbox"</span> name=<span class="hljs-string">"hobbies"</span> value=<span class="hljs-string">"电影"</span>&gt;电影<br>				&lt;input type=<span class="hljs-string">"submit"</span>&gt;<br>			&lt;/form&gt;<br>		&lt;/div&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></tbody></table></figure><p>提交成功页面：</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: <span class="hljs-number">13377</span><br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">3</span><br>  Time: <span class="hljs-number">1</span>:<span class="hljs-number">42</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;title&gt;登陆成功&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;h1&gt;登陆成功！&lt;/h1&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></tbody></table></figure><p>Java 代码：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/3</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"LoginServlet"</span>, value = <span class="hljs-string">"/LoginServlet"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		request.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br><br>		<span class="hljs-type">String</span> <span class="hljs-variable">username</span> <span class="hljs-operator">=</span> request.getParameter(<span class="hljs-string">"username"</span>);<br>		<span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> request.getParameter(<span class="hljs-string">"password"</span>);<br>		String[] hobbies = request.getParameterValues(<span class="hljs-string">"hobbies"</span>);<br><br>		System.out.println(<span class="hljs-string">"========================"</span>);<br>		System.out.println(username);<br>		System.out.println(password);<br>		System.out.println(Arrays.toString(hobbies));<br>		System.out.println(<span class="hljs-string">"========================"</span>);<br><br>		<span class="hljs-comment">//请求转发</span><br>		request.getRequestDispatcher(<span class="hljs-string">"success.jsp"</span>).forward(request, response);<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><h2 id="转发和重定向的路径问题"><a href="#转发和重定向的路径问题" class="headerlink" title="转发和重定向的路径问题"></a>转发和重定向的路径问题</h2><p>重定向：response.sendRedirect () 可以使用相对路径和绝对路径</p><p>当浏览器想服务器发起了一个 http 请求时，如：http:localhost:8080/myapp/user/Test1</p><p>相对路径：response.sendRedirect (“Login”) 容器相对于原来请求 URL 的目录加参数来生成完整的 URL—http:localhost:8080/myapp/user/Login</p><p>绝对路径 ：response.sendRedirect (“/Login”) 容器相对于 Web 应用本身加参数建立完整的 URL—http:localhost:8080/Login</p><p>转发：request.getRequestDispatcher () 也可以使用相对路径和绝对路径</p><p>相对路径：request.getRequestDispatcher (“Login”) 容器相对于原来请求 URL 的目录加参数来生成完整的 URL—http:localhost:8080/myapp/user/Login</p><p>绝对路径 ：request.getRequestDispatcher (“/Login”) 容器相对于当前的 Web 应用本身加参数建立完整的 URL—http:localhost:8080/myapp/Login</p><h1 id="Cookie、Session"><a href="#Cookie、Session" class="headerlink" title="Cookie、Session"></a>Cookie、Session</h1><h2 id="会话"><a href="#会话" class="headerlink" title="会话"></a>会话</h2><p><strong>会话</strong>：用户打开一个浏览器，点击了很多超链接，访问多个 web 资源，关闭浏览器，这个过程可以称之为会话</p><p><strong>有状态会话</strong>：简单描述为：一个同学来过教师，下次再来教室，我们就会知道这个同学曾经来过，称之为有状态会话<br><strong>你怎么证明你是学校的学生？</strong></p><p>你 学校</p><ol><li>学校给你发票</li><li>学校登记（学校标记你来过了）</li></ol><p><strong>一个网站，怎么证明你来过？</strong></p><p>客户端 服务端</p><ol><li>服务端给客户端一个 “信件”，客户端下次访问服务端带上就可以了（cookie）</li><li>服务器登记你来过，下次你来的时候来匹配你（session）</li></ol><h2 id="保存会话的两种技术"><a href="#保存会话的两种技术" class="headerlink" title="保存会话的两种技术"></a>保存会话的两种技术</h2><p><strong>cookie</strong></p><ul><li>客户端技术（客户端通过响应得到 cookie，通过请求和服务器匹配）</li></ul><p><strong>session</strong></p><ul><li>服务器技术，利用这个技术，可以保存用户的会话信息我们可以把信息或者数据放在 session 中</li></ul><p>常见场景：网站登录之后，第二次不用重新登陆，直接就可以登录进去</p><h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><ol><li>从请求中拿到 cookie 信息</li><li>服务器响应给客户端 cookie</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Cookie[] cookies = request.getCookies();<span class="hljs-comment">//获得cookie</span><br>cookie.getName();<span class="hljs-comment">//获得cookie中的key</span><br>cookie.getValue();<span class="hljs-comment">//获得cookie的vlaue</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">"LastLoginTime"</span>, System.currentTimeMillis() + <span class="hljs-string">""</span>);<span class="hljs-comment">//新建一个cookie</span><br>cookie.setMaxAge(<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>);<span class="hljs-comment">//设置cookie有效期</span><br>response.addCookie(cookie);<span class="hljs-comment">//响应一个cookie给客户端</span><br></code></pre></td></tr></tbody></table></figure><h3 id="cookie示例"><a href="#cookie示例" class="headerlink" title="cookie示例"></a>cookie 示例</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/3</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.PrintWriter;<br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-comment">//保存用户上一次访问的时间</span><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"CookieServletDemo01"</span>, value = <span class="hljs-string">"/CookieServletDemo01"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CookieServletDemo01</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-comment">//服务器告诉你你来的时间，把这个时间封装成一个“信件”，下次访问时带来</span><br>		<br>		<span class="hljs-comment">//解决中文乱码</span><br>		request.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br>		response.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br>		response.setContentType(<span class="hljs-string">"text/html; charset=UTF-8"</span>);<br>		<br>		<span class="hljs-type">PrintWriter</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> response.getWriter();<br>		<br>		<span class="hljs-comment">//Cookie,服务器从客户端获取</span><br>		Cookie[] cookies = request.getCookies();<span class="hljs-comment">//这里返回数组说明Cookie可能存在多个</span><br>		<br>		<span class="hljs-comment">//判断cookie是否存在</span><br>		<span class="hljs-keyword">if</span> (cookies != <span class="hljs-literal">null</span>) {<br>			<span class="hljs-comment">//如果存在</span><br>			out.write(<span class="hljs-string">"你上一次访问的时间是："</span>);<br>			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; cookies.length; i++) {<br>				<span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie</span> <span class="hljs-operator">=</span> cookies[i];<br>				<span class="hljs-comment">//获取cookie的名字</span><br>				<span class="hljs-keyword">if</span> (cookie.getName().equals(<span class="hljs-string">"LastLoginTime"</span>)) {<br>					<span class="hljs-comment">//获取cookie中的值</span><br>					<span class="hljs-type">long</span> <span class="hljs-variable">LastLoginTime</span> <span class="hljs-operator">=</span> Long.parseLong(cookie.getValue());<br>					<span class="hljs-type">Date</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(LastLoginTime);<br>					out.write(String.valueOf(date));<br>				}<br>			}<br>			<br>		} <span class="hljs-keyword">else</span> {<br>			out.write(<span class="hljs-string">"这是你第一次访问"</span>);<br>		}<br>		<br>		<span class="hljs-comment">//获得一个cookie</span><br>		<span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">"LastLoginTime"</span>, System.currentTimeMillis() + <span class="hljs-string">""</span>);<br>		<span class="hljs-comment">//设置cookie有效期为一天</span><br>		cookie.setMaxAge(<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>);<br>		<span class="hljs-comment">//服务器给客户端响应一个cookie</span><br>		response.addCookie(cookie);<br>	}<br>	<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><p>cookie：一般会保存在本地的用户目录下的 appdata 中</p><p>一个网站的 cookie 是否存在上限？</p><ul><li>一个 cookie 只能保存一个信息</li><li>一个 web 站点可以给浏览器发送多个 cookie，最多存放 20 个 cookie</li><li>cookie 的大小有限制，一般为 4kb</li><li>浏览器的 cookie 上限一般为 300 个</li></ul><h3 id="删除cookie"><a href="#删除cookie" class="headerlink" title="删除cookie"></a>删除 cookie</h3><ul><li>不设置有效期，关闭浏览器，自动失效</li><li>设置有效期时间为 0</li></ul><h3 id="解决cookie乱码：编码解码"><a href="#解决cookie乱码：编码解码" class="headerlink" title="解决cookie乱码：编码解码"></a>解决 cookie 乱码：编码解码</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">URLEncoder.encode(<span class="hljs-string">"张三"</span>, <span class="hljs-string">"utf-8"</span>);<br>URLDecoder.decode(cookie.getValue(), <span class="hljs-string">"utf-8"</span>);<br></code></pre></td></tr></tbody></table></figure><h2 id="session（重点）"><a href="#session（重点）" class="headerlink" title="session（重点）"></a>session（重点）</h2><p>什么是 session：</p><ul><li>服务器会给每个用户（浏览器）创建一个 session 对象</li><li>一个 session 独占一个浏览器，只要浏览器没有关闭，这个 session 就存在</li><li>用户登陆之后，整个网站的不同站点都可访问（保存用户信息 / 保存购物车）</li></ul><h3 id="创建session示例"><a href="#创建session示例" class="headerlink" title="创建session示例"></a>创建 session 示例</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw.Servlet; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/4</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> com.zlw.pojo.Person;<br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"SessionServletDemo01"</span>, value = <span class="hljs-string">"/SessionServletDemo01"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SessionServletDemo01</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-comment">//解决乱码问题</span><br>		request.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br>		response.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br>		response.setContentType(<span class="hljs-string">"text/html;charset=utf-8"</span>);<br>		<span class="hljs-comment">//得到session</span><br>		<span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> request.getSession();<br>		<span class="hljs-comment">//给session存东西</span><br>		session.setAttribute(<span class="hljs-string">"name"</span>,<span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"张三"</span>,<span class="hljs-number">18</span>));<br>		<span class="hljs-comment">//获取session的id</span><br>		<span class="hljs-type">String</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> session.getId();<br>		<span class="hljs-comment">//判断session是不是新创建的</span><br>		<span class="hljs-keyword">if</span> (session.isNew()){<br>			response.getWriter().write(<span class="hljs-string">"session创建成功，id "</span>+id);<br>		}<span class="hljs-keyword">else</span>{<br>			response.getWriter().write(<span class="hljs-string">"服务器已经存在session，id "</span>+id);<br>		}<br>	}<br>	<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><h3 id="得到session的里的元素"><a href="#得到session的里的元素" class="headerlink" title="得到session的里的元素"></a>得到 session 的里的元素</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw.Servlet; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/4</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> com.zlw.pojo.Person;<br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"SessionServletDemo02"</span>, value = <span class="hljs-string">"/SessionServletDemo02"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SessionServletDemo02</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-comment">//解决乱码问题</span><br>		request.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br>		response.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br>		response.setContentType(<span class="hljs-string">"text/html;charset=utf-8"</span>);<br>		<span class="hljs-comment">//得到session</span><br>		<span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> request.getSession();<br>		<span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> (Person) session.getAttribute(<span class="hljs-string">"name"</span>);<br>		System.out.println(person.toString());<br>	}<br>	<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><h3 id="手动注销session"><a href="#手动注销session" class="headerlink" title="手动注销session"></a>手动注销 session</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw.Servlet; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/4</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebServlet</span> (name = <span class="hljs-string">"SessionServletDemo03"</span>, value = <span class="hljs-string">"/SessionServletDemo03"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SessionServletDemo03</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doGet</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>        <span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> request.getSession();<br>        session.removeAttribute(<span class="hljs-string">"name"</span>);<br>        <span class="hljs-comment">//手动注销session</span><br>        session.invalidate();<br>    }<br>	<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doPost</span> <span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>        doGet(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><h3 id="设置自动注销session"><a href="#设置自动注销session" class="headerlink" title="设置自动注销session"></a>设置自动注销 session</h3><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--设置session自动失效时间：15分钟--&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure><h2 id="session与cookie的区别"><a href="#session与cookie的区别" class="headerlink" title="session与cookie的区别"></a>session 与 cookie 的区别</h2><ul><li>cookie 是把用户的数据写给用户的浏览器，浏览器保存（可以保存多个）</li><li>session 把用户的数据写到用户独占的 session，服务器端保存（保存重要的信息，减少服务器资源的浪费）</li><li>session 对象由服务器创建</li></ul><h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><ul><li>保存一个登录用户的信息</li><li>购物车信息</li><li>在整个网站中经常会使用到的数据，我们把它保存到 session 中</li></ul><h1 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h1><h2 id="什么是JSP"><a href="#什么是JSP" class="headerlink" title="什么是JSP"></a>什么是 JSP</h2><p>Java Server Pages：Java 服务端页面，也和 servlet 一样用于动态 web 技术<br>最大的特点：</p><ul><li>写 JSP 就像写 HTML</li><li>区别：<ul><li>HTML 值给用户提供静态数据</li><li>JSP 页面中可以嵌入 Java 代码，为用户提供动态数据</li></ul></li></ul><h2 id="JSP原理"><a href="#JSP原理" class="headerlink" title="JSP原理"></a>JSP 原理</h2><p>思路：JSP 到底是怎么执行的</p><ul><li>代码层面与 HTML 没有任何区别</li><li>服务器内部工作<ul><li>tomcat 中会有一个 work 目录</li><li>IDEA 中使用的 tomcat 会在 IDEA 的 tomcat 中产生一个 work 目录，把页面转换成了 java 程序，所以<strong>浏览器向服务器发送请求，不管访问什么资源，其实都是在访问 Servlet</strong></li></ul></li></ul><p>JSP 最终会被转换成一个 java 类<br><strong>JSP 本质就是一个 Servlet</strong></p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//初始化</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">_jspInit</span><span class="hljs-params">()</span> {<br>}<br><span class="hljs-comment">//销毁</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">_jspDestroy</span><span class="hljs-params">()</span> {<br>}<br><span class="hljs-comment">//JSPService</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">_jspService</span><span class="hljs-params">(HttpServletRequest request,HttpServletResponse response)</span> <br><br></code></pre></td></tr></tbody></table></figure><ol><li><p>判断请求</p></li><li><p>内置了一些对象</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java">   <span class="hljs-keyword">final</span> javax.servlet.jsp.PageContext pageContext;<span class="hljs-comment">//页面上下文</span><br>   javax.servlet.http.<span class="hljs-type">HttpSession</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<span class="hljs-comment">//session</span><br>   <span class="hljs-keyword">final</span> javax.servlet.ServletContext application;<span class="hljs-comment">//applicationContext</span><br>   <span class="hljs-keyword">final</span> javax.servlet.ServletConfig config;<span class="hljs-comment">//config</span><br>   javax.servlet.jsp.<span class="hljs-type">JspWriter</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<span class="hljs-comment">//out</span><br>   <span class="hljs-keyword">final</span> java.lang.<span class="hljs-type">Object</span> <span class="hljs-variable">page</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>;<span class="hljs-comment">//page:当前页</span><br>   HttpServletRequest request<span class="hljs-comment">//请求</span><br>   HttpServletResponse response<span class="hljs-comment">//响应</span><br><br><span class="hljs-number">3.</span> 输出页面前增加的代码<br><br>   ```java<br>   response.setContentType(<span class="hljs-string">"text/html"</span>);<span class="hljs-comment">//设置响应的页面类型</span><br>   pageContext = _jspxFactory.getPageContext(<span class="hljs-built_in">this</span>, request, response,<span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>, <span class="hljs-number">8192</span>, <span class="hljs-literal">true</span>);<br>   _jspx_page_context = pageContext;<br>   application = pageContext.getServletContext();<br>   config = pageContext.getServletConfig();<br>   session = pageContext.getSession();<br>   out = pageContext.getOut();<br>   _jspx_out = out;<br></code></pre></td></tr></tbody></table></figure></li><li><p>以上的这些对象我们可以在 JSP 中直接使用</p></li></ol><p>在 JSP 页面中，java 代码会原封不动的输出</p><h2 id="JSP的基础语法"><a href="#JSP的基础语法" class="headerlink" title="JSP的基础语法"></a>JSP 的基础语法</h2><p>任何语言都有自己的语法，JSP 作为 Java 技术的一种应用，它拥有一些自己扩充的语法，Java 所有语法 JSP 都支持</p><h3 id="JSP表达式"><a href="#JSP表达式" class="headerlink" title="JSP表达式"></a>JSP 表达式</h3><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--JSP表达式<br>作用：用来将程序的输出，输出到客户端<br>公式：&lt;%= 变量或表达式%&gt;<br>--%&gt;<br>&lt;%= <span class="hljs-keyword">new</span> <span class="hljs-title class_">java</span>.util.Date()%&gt;<br></code></pre></td></tr></tbody></table></figure><h3 id="JSP脚本片段"><a href="#JSP脚本片段" class="headerlink" title="JSP脚本片段"></a>JSP 脚本片段</h3><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>    公式：&lt;%脚本片段%&gt;<br>--%&gt;<br>&lt;%<br>	<span class="hljs-type">int</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">100</span>; i++) {<br>		sum += i;<br>	}<br>	out.println(<span class="hljs-string">"&lt;h1&gt;sum="</span> + sum + <span class="hljs-string">"&lt;/h1&gt;"</span>);<br>%&gt;<br></code></pre></td></tr></tbody></table></figure><h3 id="JSP脚本的再实现"><a href="#JSP脚本的再实现" class="headerlink" title="JSP脚本的再实现"></a>JSP 脚本的再实现</h3><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>    公式：&lt;%脚本片段%&gt;<br>--%&gt;<br>&lt;%<br>	<span class="hljs-type">int</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>	out.write(x);<br>%&gt;<br>&lt;p&gt;这是一个JSP文档&lt;/p&gt;<br>&lt;%<br>	out.write(x);<br>%&gt;<br>&lt;hr&gt;<br>&lt;%--在代码里嵌入HTML代码--%&gt;<br>&lt;%<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {<br>%&gt;<br>	&lt;h1&gt;Hello World&lt;%=i%&gt;&lt;/h1&gt;<br>&lt;%<br>	}<br>%&gt;<br></code></pre></td></tr></tbody></table></figure><h3 id="JSP声明"><a href="#JSP声明" class="headerlink" title="JSP声明"></a>JSP 声明</h3><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>公式：&lt;%！定义常量、静态代码块、全局方法%&gt;<br>--%&gt;<br>&lt;%!<br>	<span class="hljs-keyword">static</span> {<br>		System.out.println(<span class="hljs-string">"正在加载Servlet"</span>);<br>	}<br>	<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">globalVar</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span> <span class="hljs-params">()</span> {<br>		System.out.println(globalVar);<br>	}<br>%&gt;<br></code></pre></td></tr></tbody></table></figure><p>JSP 声明：会被编译到 JSP 生成 Java 的类中，其他的会被生成到 jspService () 中</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>在 JSP 中嵌入 java 代码即可</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%%&gt;		脚本片段<br>&lt;%！%&gt;		声明<br>&lt;%=%&gt;		表达式<br>&lt;%----%&gt;	注释<br></code></pre></td></tr></tbody></table></figure><p>JSP 的注释不会在客户端显示，而 HTML 的注释可以。</p><h2 id="JSP指令"><a href="#JSP指令" class="headerlink" title="JSP指令"></a>JSP 指令</h2><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page ...%&gt;   设置错误页面、编码信息。。。。。。<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;%<span class="hljs-meta">@page</span> errorPage=<span class="hljs-string">"/error/500error.jsp"</span> %&gt;<br>------------------------------------------------------------<br>&lt;%@ include file=<span class="hljs-string">""</span>%&gt;    设置公共页，本质是一个页面<br>&lt;%<span class="hljs-meta">@include</span> file=<span class="hljs-string">"common/header.jsp"</span> %&gt;<br>&lt;h1&gt;网页主题&lt;/h1&gt;<br>&lt;%<span class="hljs-meta">@include</span> file=<span class="hljs-string">"common/footer.jsp"</span> %&gt;<br>------------------------------------------------------------<br>&lt;%--JSP标签--%&gt;        使用拼接的时候，本质是三个页面<br>&lt;jsp:include page=<span class="hljs-string">"common/header.jsp"</span>/&gt;<br>&lt;h1&gt;网页主题&lt;/h1&gt;<br>&lt;jsp:include page=<span class="hljs-string">"common/footer.jsp"</span>/&gt;<br></code></pre></td></tr></tbody></table></figure><p>所用到的页面：</p><p>header.jsp</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: <span class="hljs-number">13377</span><br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">5</span><br>  Time: <span class="hljs-number">3</span>:<span class="hljs-number">40</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;h1&gt;我是头部&lt;/h1&gt;<br></code></pre></td></tr></tbody></table></figure><p>fooder.jsp</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: <span class="hljs-number">13377</span><br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">5</span><br>  Time: <span class="hljs-number">3</span>:<span class="hljs-number">42</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;h1&gt;我是底部&lt;/h1&gt;<br></code></pre></td></tr></tbody></table></figure><p>404error.jsp</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: <span class="hljs-number">13377</span><br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">5</span><br>  Time: <span class="hljs-number">3</span>:<span class="hljs-number">12</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;title&gt;Title&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;img src=<span class="hljs-string">"../img/favicon.png"</span> alt=<span class="hljs-string">"404"</span>&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></tbody></table></figure><p>500error.jsp</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: <span class="hljs-number">13377</span><br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">5</span><br>  Time: <span class="hljs-number">3</span>:<span class="hljs-number">31</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;title&gt;<span class="hljs-number">500</span>错误&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;img src=<span class="hljs-string">"../img/1.jpg"</span> alt=<span class="hljs-string">"500"</span>&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></tbody></table></figure><h2 id="9大内置对象"><a href="#9大内置对象" class="headerlink" title="9大内置对象"></a>9 大内置对象</h2><ul><li>PageContext 存东西</li><li>Requset 存东西</li><li>Response</li><li>Session 存东西</li><li>Application (ServletContext) 存东西</li><li>config(ServletConfig)</li><li>out</li><li>page 几乎不用</li><li>exception</li></ul><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%<br>	pageContext.setAttribute(<span class="hljs-string">"name1"</span>, <span class="hljs-string">"张三"</span>);<span class="hljs-comment">//保存的数据只在一个页面中有效</span><br>	request.setAttribute(<span class="hljs-string">"name2"</span>, <span class="hljs-string">"李四"</span>);<span class="hljs-comment">//保存的数据只在一次请求中有效，请求转发会携带这个数据</span><br>	session.setAttribute(<span class="hljs-string">"name3"</span>, <span class="hljs-string">"王五"</span>);<span class="hljs-comment">//保存的数据只在一次会话中有效，从打开浏览器到关闭浏览器</span><br>	application.setAttribute(<span class="hljs-string">"name4"</span>, <span class="hljs-string">"赵六"</span>);<span class="hljs-comment">//保存的数据在服务器中有效，从打开服务器到关闭服务器</span><br>%&gt;<br></code></pre></td></tr></tbody></table></figure><h3 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h3><p>request：客户端向服务器发送请求产生了数据，用户看完就没用了，例如：新闻</p><p>session：客户端向服务器发送请求产生了数据，用户看完之后还有用，例如：购物车</p><p>application：客户端向服务器发送请求产生了数据，一个用户用完了，其他用户还可能使用，例如：聊天记录</p><h2 id="JSP标签、JSTL标签、EL表达式"><a href="#JSP标签、JSTL标签、EL表达式" class="headerlink" title="JSP标签、JSTL标签、EL表达式"></a>JSP 标签、JSTL 标签、EL 表达式</h2><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--JSTL表达式依赖--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp.jstl<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--standard标签库依赖--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>taglibs<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>standard<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure><h3 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL 表达式</h3><p>EL 表达式的作用：${}</p><ul><li>获取数据</li><li>执行运算</li><li>获取 web 开发的常用对象</li><li>调用 Java 方法（一般不用）</li></ul><h3 id="JSP标签"><a href="#JSP标签" class="headerlink" title="JSP标签"></a>JSP 标签</h3><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--镶嵌页面--%&gt;<br>&lt;jsp:include page=<span class="hljs-string">""</span>/&gt;<br><br>&lt;%--转发页面--%&gt;<br>&lt;%-- 相当于http:<span class="hljs-comment">//localhost:8080/JavaWeb_JSP_war_exploded/jsptag.jsp?name=zhangsan&amp;age=18 --%&gt;</span><br>&lt;jsp:forward page=<span class="hljs-string">"jsptag2.jsp"</span>&gt;<br>    &lt;%--携带参数--%&gt;<br>	&lt;jsp:param name=<span class="hljs-string">"name"</span> value=<span class="hljs-string">"zhangsan"</span>/&gt;<br>	&lt;jsp:param name=<span class="hljs-string">"age"</span> value=<span class="hljs-string">"18"</span>/&gt;<br>&lt;/jsp:forward&gt;<br></code></pre></td></tr></tbody></table></figure><h3 id="JSTL表达式"><a href="#JSTL表达式" class="headerlink" title="JSTL表达式"></a>JSTL 表达式</h3><p>JSTL 标签库的使用就是为了弥补 HTML 标签的不足：它自定义了许多标签，可以供我们使用，标签的功能和 Java 代码一样</p><p><a target="_blank" rel="noopener" href="https://www.runoob.com/jsp/jsp-jstl.html">参考文档</a></p><h4 id="核心标签（掌握部分）"><a href="#核心标签（掌握部分）" class="headerlink" title="核心标签（掌握部分）"></a>核心标签（掌握部分）</h4><p>引入 JSTL 核心标签库，我们才能使用 JSTL 标签</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">"c"</span> uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;<br></code></pre></td></tr></tbody></table></figure><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/javaweb_JSTL%E6%A0%B8%E5%BF%83%E6%A0%87%E7%AD%BE%E5%BA%93%E5%B8%B8%E7%94%A8%E6%A0%87%E7%AD%BE.png" srcset="/img/loading.gif" lazyload alt="常用标签"></p><p><strong>JSTL 标签库使用步骤</strong></p><ul><li>引入对应的 taglib</li><li>使用其中的方法</li></ul><p>if 判断：</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: AWEI<br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">7</span><br>  Time: <span class="hljs-number">1</span>:<span class="hljs-number">04</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;%@ taglib prefix=<span class="hljs-string">"c"</span> uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;title&gt;Title&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;h4&gt;<span class="hljs-keyword">if</span>测试&lt;/h4&gt;<br>		&lt;form action=<span class="hljs-string">"coreif.jsp"</span> method=<span class="hljs-string">"get"</span>&gt;<br>			&lt;%--<br>			EL表达式获取表单数据<br>			${param.参数名}<br>			--%&gt;<br>			&lt;input type=<span class="hljs-string">"text"</span> name=<span class="hljs-string">"username"</span> value=<span class="hljs-string">"${param.username}"</span>&gt;<br>			&lt;input type=<span class="hljs-string">"submit"</span> value=<span class="hljs-string">"登录"</span>&gt;<br>		&lt;/form&gt;<br>		&lt;%--判断是不是管理员登录--%&gt;<br>		&lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">"${'admin'.equals(param.username)}"</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">"isAdmin"</span>&gt;<br>			&lt;c:out value=<span class="hljs-string">"管理员，欢迎您！"</span>/&gt;<br>		&lt;/c:<span class="hljs-keyword">if</span>&gt;<br>		&lt;c:out value=<span class="hljs-string">"${isAdmin}"</span>/&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></tbody></table></figure><p>when 判断：</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: AWEI<br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">7</span><br>  Time: <span class="hljs-number">1</span>:<span class="hljs-number">33</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;%@ taglib prefix=<span class="hljs-string">"c"</span> uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;title&gt;Title&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;%--定义一个变量score，值为<span class="hljs-number">85</span>--%&gt;<br>		&lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">"score"</span> value=<span class="hljs-string">"85"</span>/&gt;<br>		&lt;c:choose&gt;<br>			&lt;c:when test=<span class="hljs-string">"${score&gt;=90}"</span>&gt;<br>				你的成绩为优秀<br>			&lt;/c:when&gt;<br>			&lt;c:when test=<span class="hljs-string">"${score&gt;=80}"</span>&gt;<br>				你的成绩为良好<br>			&lt;/c:when&gt;<br>			&lt;c:when test=<span class="hljs-string">"${score&gt;=70}"</span>&gt;<br>				你的成绩为一般<br>			&lt;/c:when&gt;<br>			&lt;c:when test=<span class="hljs-string">"${score&gt;=60}"</span>&gt;<br>				你的成绩为及格<br>			&lt;/c:when&gt;<br>			&lt;c:when test=<span class="hljs-string">"${score&gt;=0}"</span>&gt;<br>				你的成绩为不及格<br>			&lt;/c:when&gt;<br>		&lt;/c:choose&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></tbody></table></figure><p>foreach 判断：</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: AWEI<br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">7</span><br>  Time: <span class="hljs-number">2</span>:<span class="hljs-number">01</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;%@ taglib prefix=<span class="hljs-string">"c"</span> uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;<br>&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">"java.util.ArrayList"</span> %&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;title&gt;Title&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;%<br>			ArrayList&lt;String&gt; People = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>			People.add(<span class="hljs-number">0</span>, <span class="hljs-string">"张三"</span>);<br>			People.add(<span class="hljs-number">1</span>, <span class="hljs-string">"李四"</span>);<br>			People.add(<span class="hljs-number">2</span>, <span class="hljs-string">"王五"</span>);<br>			People.add(<span class="hljs-number">3</span>, <span class="hljs-string">"赵六"</span>);<br>			People.add(<span class="hljs-number">4</span>, <span class="hljs-string">"田七"</span>);<br>			request.setAttribute(<span class="hljs-string">"list"</span>, People);<br>		%&gt;<br>		&lt;%--<br>		<span class="hljs-keyword">var</span> 每一次遍历出来的变量<br>		items 要遍历的对象<br>		begin 开始下标<br>		end 结束下标<br>		step 步长<br>		--%&gt;<br>		&lt;c:forEach <span class="hljs-keyword">var</span>=<span class="hljs-string">"people"</span> items=<span class="hljs-string">"${list}"</span> begin=<span class="hljs-string">"1"</span> end=<span class="hljs-string">"3"</span> step=<span class="hljs-string">"2"</span>&gt;<br>			&lt;c:out value=<span class="hljs-string">"${people}"</span>/&gt;<br>		&lt;/c:forEach&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></tbody></table></figure><p>结果为：</p><p><strong>李四 赵六</strong></p><h4 id="格式化标签"><a href="#格式化标签" class="headerlink" title="格式化标签"></a>格式化标签</h4><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">"fmt"</span>         uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/fmt"</span> %&gt;<br></code></pre></td></tr></tbody></table></figure><h4 id="SQL标签"><a href="#SQL标签" class="headerlink" title="SQL标签"></a>SQL 标签</h4><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">"sql"</span>            uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/sql"</span> %&gt;<br></code></pre></td></tr></tbody></table></figure><h4 id="XML标签"><a href="#XML标签" class="headerlink" title="XML标签"></a>XML 标签</h4><p>在使用 xml 标签前，你必须将 XML 和 XPath 的相关包拷贝至你的 &lt;Tomcat 安装目录&gt;\lib 下:</p><ul><li><p>XercesImpl.jar</p><p><a target="_blank" rel="noopener" href="http://www.apache.org/dist/xerces/j/">下载地址</a></p></li><li><p>xalan.jar</p><p><a target="_blank" rel="noopener" href="http://xml.apache.org/xalan-j/index.html">下载地址</a></p></li></ul><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">"x"</span>           uri=<span class="hljs-string">"http://java.sun.com/jsp/jstl/xml"</span> %&gt;<br></code></pre></td></tr></tbody></table></figure><h2 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h2><p>实体类</p><p>JavaBean 有特定的写法：</p><ul><li>必须有一个无参构造</li><li>属性必须私有化</li><li>必须有对应的 get/set 方法</li></ul><p>一般用来和数据库字段做映射（ORM）</p><p>ORM：对象关系映射</p><ul><li><p>表 —&gt; 类</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span> {<br>}<br></code></pre></td></tr></tbody></table></figure></li><li><p>字段 —&gt; 属性</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span> {<br>	<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>	<span class="hljs-keyword">private</span> String name;<br>	<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>	<span class="hljs-keyword">private</span> String address;<br>}<br></code></pre></td></tr></tbody></table></figure></li><li><p>行记录 —&gt; 对象</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">new</span> <span class="hljs-title class_">People</span>(<span class="hljs-number">1</span>,<span class="hljs-string">"张三"</span>,<span class="hljs-number">18</span>,<span class="hljs-string">"广东"</span>);<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">People</span>(<span class="hljs-number">2</span>,<span class="hljs-string">"李四"</span>,<span class="hljs-number">19</span>,<span class="hljs-string">"上海"</span>);<br><span class="hljs-keyword">new</span> <span class="hljs-title class_">People</span>(<span class="hljs-number">3</span>,<span class="hljs-string">"王五"</span>,<span class="hljs-number">20</span>,<span class="hljs-string">"广西"</span>);<br></code></pre></td></tr></tbody></table></figure></li></ul><table><thead><tr><th>id</th><th>name</th><th>age</th><th>address</th></tr></thead><tbody><tr><td>1</td><td>张三</td><td>18</td><td>广东</td></tr><tr><td>2</td><td>李四</td><td>19</td><td>上海</td></tr><tr><td>3</td><td>王五</td><td>20</td><td>广西</td></tr></tbody></table><p>MySQL 数据库建表：</p><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> DATABASE Jdbc <span class="hljs-type">CHARACTER</span> <span class="hljs-keyword">SET</span> Utf8 <span class="hljs-keyword">COLLATE</span> Utf8_General_Ci;<br>USE Jdbc;<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> People<br>(<br>    Id      <span class="hljs-type">INT</span>(<span class="hljs-number">3</span>)       <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY,<br>    Name    <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>)  <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,<br>    Age     <span class="hljs-type">INT</span>(<span class="hljs-number">3</span>)       <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,<br>    Address <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">200</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span><br>) ENGINE <span class="hljs-operator">=</span> innodb,<br>  <span class="hljs-keyword">DEFAULT</span> CHARSET <span class="hljs-operator">=</span> Utf8,<br>  <span class="hljs-keyword">COLLATE</span> Utf8_General_Ci;<br><br></code></pre></td></tr></tbody></table></figure><p>实体类代码：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw.pojo;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/7</span><br><span class="hljs-comment"> */</span><br><span class="hljs-comment">//实体类一般和数据库表中的结构一一对应！</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">People</span> {<br>	<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> id;<br>	<span class="hljs-keyword">private</span> String name;<br>	<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>	<span class="hljs-keyword">private</span> String address;<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-title function_">People</span> <span class="hljs-params">()</span> {<br>	}<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-title function_">People</span> <span class="hljs-params">(<span class="hljs-type">int</span> id, String name, <span class="hljs-type">int</span> age, String address)</span> {<br>		<span class="hljs-built_in">this</span>.id = id;<br>		<span class="hljs-built_in">this</span>.name = name;<br>		<span class="hljs-built_in">this</span>.age = age;<br>		<span class="hljs-built_in">this</span>.address = address;<br>	}<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getId</span> <span class="hljs-params">()</span> {<br>		<span class="hljs-keyword">return</span> id;<br>	}<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span> <span class="hljs-params">(<span class="hljs-type">int</span> id)</span> {<br>		<span class="hljs-built_in">this</span>.id = id;<br>	}<br><br>	<span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span> <span class="hljs-params">()</span> {<br>		<span class="hljs-keyword">return</span> name;<br>	}<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span> <span class="hljs-params">(String name)</span> {<br>		<span class="hljs-built_in">this</span>.name = name;<br>	}<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span> <span class="hljs-params">()</span> {<br>		<span class="hljs-keyword">return</span> age;<br>	}<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span> <span class="hljs-params">(<span class="hljs-type">int</span> age)</span> {<br>		<span class="hljs-built_in">this</span>.age = age;<br>	}<br><br>	<span class="hljs-keyword">public</span> String <span class="hljs-title function_">getAddress</span> <span class="hljs-params">()</span> {<br>		<span class="hljs-keyword">return</span> address;<br>	}<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAddress</span> <span class="hljs-params">(String address)</span> {<br>		<span class="hljs-built_in">this</span>.address = address;<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><p>JavaBean–jsp 示例代码：</p><figure class="highlight jsp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page <span class="hljs-keyword">import</span>=<span class="hljs-string">"com.zlw.pojo.People"</span> %&gt;&lt;%--<br>  Created by IntelliJ IDEA.<br>  User: AWEI<br>  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">7</span>/<span class="hljs-number">7</span><br>  Time: <span class="hljs-number">14</span>:<span class="hljs-number">52</span><br>  To change <span class="hljs-built_in">this</span> template use File | Settings | File Templates.<br>--%&gt;<br>&lt;%@ page contentType=<span class="hljs-string">"text/html;charset=UTF-8"</span> language=<span class="hljs-string">"java"</span> %&gt;<br>&lt;html&gt;<br>	&lt;head&gt;<br>		&lt;title&gt;Title&lt;/title&gt;<br>	&lt;/head&gt;<br>	&lt;body&gt;<br>		&lt;%--<br>			<span class="hljs-type">People</span> <span class="hljs-variable">people</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">People</span>();<br>			people.setId(<span class="hljs-number">1</span>);<br>			people.setName(<span class="hljs-string">"张三"</span>);<br>			people.setAge(<span class="hljs-number">18</span>);<br>			people.setAddress(<span class="hljs-string">"广东"</span>);<br><br>			people.getId();<br>			people.getName();<br>			people.getAge();<br>			people.getAddress();<br>		--%&gt;<br>		&lt;jsp:useBean id=<span class="hljs-string">"people"</span> class=<span class="hljs-string">"com.zlw.pojo.People"</span> scope=<span class="hljs-string">"page"</span>/&gt;<br>		&lt;jsp:setProperty name=<span class="hljs-string">"people"</span> property=<span class="hljs-string">"id"</span> value=<span class="hljs-string">"1"</span>/&gt;<br>		&lt;jsp:setProperty name=<span class="hljs-string">"people"</span> property=<span class="hljs-string">"name"</span> value=<span class="hljs-string">"张三"</span>/&gt;<br>		&lt;jsp:setProperty name=<span class="hljs-string">"people"</span> property=<span class="hljs-string">"age"</span> value=<span class="hljs-string">"18"</span>/&gt;<br>		&lt;jsp:setProperty name=<span class="hljs-string">"people"</span> property=<span class="hljs-string">"address"</span> value=<span class="hljs-string">"广东"</span>/&gt;<br><br>		id：<br>		&lt;jsp:getProperty name=<span class="hljs-string">"people"</span> property=<span class="hljs-string">"id"</span>/&gt;<br>		&lt;br&gt;<br>		姓名：<br>		&lt;jsp:getProperty name=<span class="hljs-string">"people"</span> property=<span class="hljs-string">"name"</span>/&gt;<br>		&lt;br&gt;<br>		年龄：<br>		&lt;jsp:getProperty name=<span class="hljs-string">"people"</span> property=<span class="hljs-string">"age"</span>/&gt;<br>		&lt;br&gt;<br>		地址：<br>		&lt;jsp:getProperty name=<span class="hljs-string">"people"</span> property=<span class="hljs-string">"address"</span>/&gt;<br>		&lt;br&gt;<br>	&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></tbody></table></figure><h1 id="MVC三层架构"><a href="#MVC三层架构" class="headerlink" title="MVC三层架构"></a>MVC 三层架构</h1><p>什么是 MVC：model view controller 模型视图控制器</p><p>早些年的架构：<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/javaweb_%E6%97%A9%E4%BA%9B%E5%B9%B4%E7%9A%84%E6%9E%B6%E6%9E%84.png" srcset="/img/loading.gif" lazyload alt="早些年的架构"></p><p>用户直接访问控制层，控制层就可以直接操作数据库</p><p>弊端：</p><ul><li>程序十分拥堵，不利于维护</li><li>Servlet 代码中不仅有处理请求，响应，视图跳转，还包含处理 JDBC，业务代码，逻辑代码</li></ul><p>MVC 架构:<br><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/javaweb_MVC%E6%9E%B6%E6%9E%84.png" srcset="/img/loading.gif" lazyload alt="MVC三层架构"></p><h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><ul><li>业务处理：业务逻辑（Service）</li><li>数据持久层：CRUD 增删改查（Dao）</li></ul><h2 id="View"><a href="#View" class="headerlink" title="View"></a>View</h2><ul><li>展示数据</li><li>提供连接发起 Servlet 请求（提供 a /form/img…）</li></ul><h2 id="Controller-Servlet"><a href="#Controller-Servlet" class="headerlink" title="Controller(Servlet)"></a>Controller(Servlet)</h2><ul><li>接受用户的请求：通过 request 拿到请求参数、session 信息…</li><li>交给业务层处理对应的代码</li><li>控制视图跳转：例如登录–&gt; 接受用户的请求（获取用户参数，例如：用户名和密码）–&gt; 交给业务处理层处理业务（判断用户名密码是否正确，解决事务的回滚之类操作）–&gt;Dao 层查询数据库里用户名和密码是否正确–&gt; 成功则跳转成功页面，反之亦然</li></ul><h1 id="Filter-重点"><a href="#Filter-重点" class="headerlink" title="Filter(重点)"></a>Filter (重点)</h1><p>Filter：过滤器，用来过滤网站的数据；</p><ul><li>处理中文乱码</li><li>登陆验证</li><li>。。。</li></ul><p><img src="https://inencoding.oss-cn-shenzhen.aliyuncs.com/img/javaweb_%E8%BF%87%E6%BB%A4%E5%99%A8.png" srcset="/img/loading.gif" lazyload alt="过滤器示意图"></p><h2 id="Filter开发步骤"><a href="#Filter开发步骤" class="headerlink" title="Filter开发步骤"></a>Filter 开发步骤</h2><ol><li>导包</li><li>编写过滤器<ul><li>导包不能错（javax.servlet.*）</li><li>实现 filder 方法</li></ul></li><li>使用注解或者在 xml 中配置 filter</li><li><strong>注意，使用注解的过滤器的过滤路径相当于转发的绝对路径</strong></li></ol><p>过滤器示例代码：</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw.filter; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/8</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebFilter</span> (filterName = <span class="hljs-string">"CharacterEncodingFilter"</span>, urlPatterns = <span class="hljs-string">"/*"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CharacterEncodingFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> {<br>	<span class="hljs-comment">//初始化：web服务器启动就进行初始化，随时等待过滤对象</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span> <span class="hljs-params">(FilterConfig config)</span> <span class="hljs-keyword">throws</span> ServletException {<br>		System.out.println(<span class="hljs-string">"CharacterEncodingFilter初始化"</span>);<br>	}<br><br>	<span class="hljs-comment">//销毁：web服务器关闭的时候销毁</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span> <span class="hljs-params">()</span> {<br>		System.out.println(<span class="hljs-string">"CharacterEncodingFilter已销毁"</span>);<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-comment">/*</span><br><span class="hljs-comment">	 * 1.过滤器中的所有代码，在过滤特定请求的时候都会执行</span><br><span class="hljs-comment">	 * 2.必须要让过滤器继续通行</span><br><span class="hljs-comment">	 * */</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span> <span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		request.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br>		response.setCharacterEncoding(<span class="hljs-string">"utf-8"</span>);<br>		response.setContentType(<span class="hljs-string">"text/html;charset=UTF-8"</span>);<br>		System.out.println(<span class="hljs-string">"CharacterEncodingFilter执行前。。。"</span>);<br>		chain.doFilter(request, response);<span class="hljs-comment">//让我们的请求继续走，如果不写，我们的程序就拦截停止了</span><br>		System.out.println(<span class="hljs-string">"CharacterEncodingFilter执行后"</span>);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure><h1 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h1><p>实现一个监听器接口；（有 N 种）</p><ol><li><p>编写一个监听器，实现监听器接口</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw.listener;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletContext;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.WebListener;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpSessionEvent;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpSessionListener;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/8</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@WebListener</span><br><span class="hljs-comment">//统计网站在线人数：统计session</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OnlineCountListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HttpSessionListener</span> {<br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-comment">//创建session监听</span><br>	<span class="hljs-comment">//一旦创建session，就会触发一次这个事件</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sessionCreated</span> <span class="hljs-params">(HttpSessionEvent se)</span> {<br>		<span class="hljs-type">ServletContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> se.getSession().getServletContext();<br>		<span class="hljs-type">Integer</span> <span class="hljs-variable">onlineCount</span> <span class="hljs-operator">=</span> (Integer) ctx.getAttribute(<span class="hljs-string">"OnlineCount"</span>);<br>		<span class="hljs-keyword">if</span> (onlineCount == <span class="hljs-literal">null</span>) {<br>			onlineCount = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">1</span>);<br>		} <span class="hljs-keyword">else</span> {<br>			<span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> onlineCount.intValue();<br>			onlineCount = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(count + <span class="hljs-number">1</span>);<br>		}<br>		ctx.setAttribute(<span class="hljs-string">"OnlineCount"</span>,onlineCount);<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-comment">//销毁session监听</span><br>	<span class="hljs-comment">//一旦销毁session，就会触发一次这个事件</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sessionDestroyed</span> <span class="hljs-params">(HttpSessionEvent se)</span> {<br>		<span class="hljs-type">ServletContext</span> <span class="hljs-variable">ctx</span> <span class="hljs-operator">=</span> se.getSession().getServletContext();<br>		<span class="hljs-type">Integer</span> <span class="hljs-variable">onlineCount</span> <span class="hljs-operator">=</span> (Integer) ctx.getAttribute(<span class="hljs-string">"OnlineCount"</span>);<br>		<span class="hljs-keyword">if</span> (onlineCount == <span class="hljs-literal">null</span>) {<br>			onlineCount = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(<span class="hljs-number">0</span>);<br>		} <span class="hljs-keyword">else</span> {<br>			<span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> onlineCount.intValue();<br>			onlineCount = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Integer</span>(count - <span class="hljs-number">1</span>);<br>		}<br>		ctx.setAttribute(<span class="hljs-string">"OnlineCount"</span>,onlineCount);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure></li><li><p>使用注解 @WebListener 或者在 web.xml 中注册监听器</p></li><li><p>看情况是否使用</p></li></ol><h1 id="过滤器、监听器常见应用"><a href="#过滤器、监听器常见应用" class="headerlink" title="过滤器、监听器常见应用"></a>过滤器、监听器常见应用</h1><p>监听器：GUI 编程中经常使用</p><p>过滤器实现用户登录之后才能进入主页，注销之后无法进入主页</p><ol><li>用户登录后，向 session 中放入用户数据</li><li>进入主页的时候判断用户是否登录</li></ol><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.zlw.filter; <span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> AWEI</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@version</span> 2021/7/9</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.annotation.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-meta">@WebFilter</span> (filterName = <span class="hljs-string">"SysFilter"</span>, urlPatterns = <span class="hljs-string">"/sys/*"</span>)<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SysFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> {<br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span> <span class="hljs-params">(FilterConfig config)</span> <span class="hljs-keyword">throws</span> ServletException {<br>	}<br><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span> <span class="hljs-params">()</span> {<br>	}<br><br>	<span class="hljs-meta">@Override</span><br>	<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span> <span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> ServletException, IOException {<br>		<span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request1</span> <span class="hljs-operator">=</span> (HttpServletRequest) request;<br>		<span class="hljs-type">HttpServletResponse</span> <span class="hljs-variable">response1</span> <span class="hljs-operator">=</span> (HttpServletResponse) response;<br>		System.out.println(<span class="hljs-number">111</span>);<br>		<span class="hljs-keyword">if</span> (request1.getSession().getAttribute(<span class="hljs-string">"USER_SESSION"</span>) == <span class="hljs-literal">null</span>) {<br>			response1.sendRedirect(<span class="hljs-string">"/error/error.jsp"</span>);<br>		}<br>		chain.doFilter(request, response);<br>	}<br>}<br><br></code></pre></td></tr></tbody></table></figure></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="category-chain-item">学习笔记</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/Web/">#Web</a> <a href="/tags/Java/">#Java</a> <a href="/tags/JSP/">#JSP</a></div></div><div class="license-box my-3"><div class="license-title"><div>JavaWeb 学习笔记</div><div>https://www.inencoding.com/posts/16781/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>AWEI</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2021年5月17日</div></div><div class="license-meta-item license-meta-date"><div>更新于</div><div>2022年12月8日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="NC - 非商业性使用"><i class="iconfont icon-nc"></i></span></a><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="hint--top hint--rounded" aria-label="SA - 相同方式共享"><i class="iconfont icon-sa"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/posts/13607/" title="基于 Centos6.5 的 Httpd 安装"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">基于 Centos6.5 的 Httpd 安装</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/posts/22111/" title="JQuery 学习笔记"><span class="hidden-mobile">JQuery 学习笔记</span> <span class="visible-mobile">下一篇</span><i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a><i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a><div><span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span><script src="/js/duration.js"></script></div></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量<span id="busuanzi_value_site_pv"></span> 次</span> <span id="busuanzi_container_site_uv" style="display:none">总访客数<span id="busuanzi_value_site_uv"></span> 人</span></div><div class="beian"><span><a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">粤ICP备2021025468号</a></span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t){var e=Fluid.plugins.typing;(t=t.getElementById("subtitle"))&&e&&e(t.getAttribute("data-typed-text"))}((window,document))</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-t}),0<o.find(".toc-list-item").length&&o.css("visibility","visible"))}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var o,n=[];for(o of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))n.push(".markdown-body > "+o.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(n.join(", "))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script src="https://fastly.jsdelivr.net/npm/hexo-tag-common@0.1.0/js/index.js"></script><script async>window.onload=function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src="/sw-register.js?v="+Date.now(),t.parentNode.insertBefore(e,t)}</script></body></html>